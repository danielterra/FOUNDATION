@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix foundation: <http://foundation.local/ontology/> .

# =============================================================================
# Software
# =============================================================================
# Executable code or programs (broader than Application)
#
# Version: 0.1.0
# License: GNU GPL
# =============================================================================

foundation:Software a owl:Class ;
    rdfs:subClassOf foundation:DigitalThing ,
        [ a owl:Restriction ;
          owl:onProperty foundation:installedFrom ;
          owl:maxCardinality "1"^^xsd:nonNegativeInteger ] ;
    rdfs:label "Software" ;
    rdfs:comment "An installed instance of software running on a computer" ;
    foundation:icon "code" ;
    rdfs:seeAlso """
Examples:
- FOUNDATION v0.1.0 running on my MacBook
- VS Code 1.85.0 installed on production server
- PostgreSQL 16.1 running on database server

Hierarchy:
  SoftwareProduct → SoftwareRelease → Software (installation)

  Example:
    FoundationProduct (the product)
      → Foundation_v0_1_0 (release/version)
        → ThisFoundationInstance (installation on this computer)

Cardinality constraints:
- installedFrom: 0-1 (optional, links to specific version/release installed)
- hasRepository: 0+ (optional, may have multiple repositories - mirrors, forks)
- runsOn: 0+ (optional, may run on multiple computers)
""" .

# -----------------------------------------------------------------------------
# Software Properties
# -----------------------------------------------------------------------------

foundation:installedFrom a owl:ObjectProperty ;
    rdfs:label "installed from" ;
    rdfs:comment "Links this software installation to the specific release/version that was installed" ;
    rdfs:domain foundation:Software ;
    rdfs:range foundation:SoftwareRelease ;
    rdfs:seeAlso """
Example:
  :ThisFoundationInstance foundation:installedFrom :Foundation_v0_1_0 .
  :MyVSCode foundation:installedFrom :VSCode_v1_85_0 .

  :Foundation_v0_1_0 a foundation:SoftwareRelease ;
    foundation:releaseOf foundation:FoundationProduct ;
    foundation:versionNumber "0.1.0" ;
    foundation:licenseType "GPL-3.0" .
""" .

foundation:runsOn a owl:ObjectProperty ;
    rdfs:label "runs on" ;
    rdfs:comment "The computer or system where this software is installed and running" ;
    rdfs:domain foundation:Software ;
    rdfs:range foundation:Computer ;
    rdfs:seeAlso """
Example:
  :foundation-app foundation:runsOn :my-macbook .
  :postgres-server foundation:runsOn :production-server .
""" .

foundation:hasRepository a owl:ObjectProperty ;
    rdfs:label "has repository" ;
    rdfs:comment "Links software to its source code Git repository" ;
    rdfs:domain foundation:Software ;
    rdfs:range foundation:GitRepository ;
    rdfs:seeAlso """
Example:
  :ThisFoundationInstance foundation:hasRepository :FoundationGitRepo .
  :VSCodeApp foundation:hasRepository :VSCodeGitRepo .

  :FoundationGitRepo a foundation:GitRepository ;
    foundation:repositoryUrl "https://github.com/danielterra/FOUNDATION"^^xsd:anyURI ;
    foundation:defaultBranch "main" .

Note:
- Software installations may reference the same repository
- Open source software typically has public repositories
- Proprietary software may not have an accessible repository
""" .
